<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="/js/register.js"></script>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>

<div class="container">
    <h2 class="my-5">User Registration</h2>

    <form id="registrationForm" th:action="@{/register}" th:object="${registrationForm}" method="POST">
        <div class="form-group">
            <label for="role">Select Role</label>
            <select id="role" class="form-control" th:field="*{role}" onchange="updateFields()">
                <option disabled selected value=""> -- select an option -- </option>
                <option value="Student">Student</option>
                <option value="University-Admin">University</option>
                <option value="Employer-Admin">Employer</option>
            </select>
            <div th:if="${#fields.hasErrors('role')}" class="alert alert-danger">
                <span th:errors="*{role}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" class="form-control" th:field="*{person.firstName}" />
            <div th:if="${#fields.hasErrors('person.firstName')}" class="alert alert-danger">
                <span th:errors="*{person.firstName}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" class="form-control" th:field="*{person.lastName}" />
            <div th:if="${#fields.hasErrors('person.lastName')}" class="alert alert-danger">
                <span th:errors="*{person.lastName}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" class="form-control" th:field="*{person.emailAddress}" />
            <div th:if="${#fields.hasErrors('person.emailAddress')}" class="alert alert-danger">
                <span th:errors="*{person.emailAddress}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="mobile">Mobile Number</label>
            <input type="text" id="mobile" class="form-control" th:field="*{person.mobileNumber}" />
            <div th:if="${#fields.hasErrors('person.mobileNumber')}" class="alert alert-danger">
                <span th:errors="*{person.mobileNumber}"></span>
            </div>
        </div>

<!--        <div class="form-group">-->
<!--            <label for="gender">Gender</label>-->
<!--            <select id="gender" class="form-control" th:field="*{person.gender}">-->
<!--                <option disabled selected value=""> &#45;&#45; select an option &#45;&#45; </option>-->
<!--                <option value="Male">Male</option>-->
<!--                <option value="Female">Female</option>-->
<!--                <option value="Other">Other</option>-->
<!--            </select>-->
<!--            <div th:if="${#fields.hasErrors('person.gender')}" class="alert alert-danger">-->
<!--                <span th:errors="*{person.gender}"></span>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="form-group">-->
<!--            <label for="age">Age</label>-->
<!--            <input type="number" id="age" class="form-control" th:field="*{person.age}" />-->
<!--            <div th:if="${#fields.hasErrors('person.age')}" class="alert alert-danger">-->
<!--                <span th:errors="*{person.age}"></span>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="form-group">-->
<!--            <label for="country">Country</label>-->
<!--            <input type="text" id="country" class="form-control" th:field="*{person.country}" />-->
<!--            <div th:if="${#fields.hasErrors('person.country')}" class="alert alert-danger">-->
<!--                <span th:errors="*{person.country}"></span>-->
<!--            </div>-->
<!--        </div>-->

        <div id="universityFields" class="extra-fields" style="display: none;">
            <div class="form-group">
                <label for="universityName">University Name</label>
                <input type="text" id="universityName" class="form-control" th:field="*{organization.name}"/>
            </div>
            <div class="form-group">
                <label for="universityCountry">University Country</label>
                <input type="text" id="universityCountry" class="form-control" th:field="*{organization.country}" />
            </div>
        </div>

        <div id="employerFields" class="extra-fields" style="display: none;">
            <div class="form-group">
                <label for="employerName">Employer Name</label>
                <input type="text" id="employerName" class="form-control" th:field="*{organization.name}" />
            </div>
            <div class="form-group">
                <label for="employerCountry">Employer Country</label>
                <input type="text" id="employerCountry" class="form-control" th:field="*{organization.country}" />
            </div>
        </div>

        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" class="form-control" th:field="*{user.username}" />
            <div th:if="${#fields.hasErrors('user.username')}" class="alert alert-danger">
                <span th:errors="*{user.username}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" class="form-control" th:field="*{user.password}" />
            <div th:if="${#fields.hasErrors('user.password')}" class="alert alert-danger">
                <span th:errors="*{user.password}"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" class="form-control" name="confirmPassword" />
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
    </form>

    <div class="mt-3">
        <a href="/login">Already have an account? Login here</a>
    </div>
</div>
</body>
</html>